# OCaml - COS 326, Fall 2017

## Schedule

The class is broken up into 7 weeks. Each week has an assignment, lecture slides, some reading, and sometimes optional related material from the [Real World OCaml](https://realworldocaml.org/) book.

Note that not all assignments and notes have been posted as of the start of the course. We'll have to add them in as we go.

<table>
  <thead>
    <tr>
      <th>Week</th>
      <th>Assignment</th>
      <th>Lecture</th>
      <th>Reading</th>
      <th>RWO Chapter</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>1</td>
      <td>
        <a href="http://www.cs.princeton.edu/courses/archive/fall17/cos326/ass/a1.php">Easy as Pi</a>
      </td>
      <td>
        <a href="http://www.cs.princeton.edu/courses/archive/fall17/cos326/lec/01-intro.pdf">OCaml Intro</a>,
        <a href="http://www.cs.princeton.edu/courses/archive/fall17/cos326/lec/02a-simple-type-checking.pdf">Type Checking Basics</a>,
        <a href="http://www.cs.princeton.edu/courses/archive/fall17/cos326/lec/02-let-tuples.pdf">Let, Tuples, Unit</a>,
        <a href="http://www.cs.princeton.edu/courses/archive/fall17/cos326/lec/03-inductive-thinking.pdf">Induction, Lists and Nats</a>
      </td>
      <td>
        <a href="http://www.cs.princeton.edu/courses/archive/fall17/cos326/notes/basics.php">Functional Basics</a>,
        <a href="http://www.cs.princeton.edu/courses/archive/fall17/cos326/notes/type-check.php">Type Checking</a>,
        <a href="http://www.cs.princeton.edu/courses/archive/fall17/cos326/notes/intro.php">Type-directed programming</a>,
        <a href="http://www.cs.princeton.edu/courses/archive/fall17/cos326/notes/recursion.php">Thinking Inductively</a>
      </td>
      <td>
        <a href="https://realworldocaml.org/v1/en/html/a-guided-tour.html">1</a>,
        <a href="https://realworldocaml.org/v1/en/html/variables-and-functions.html">2</a>,
        <a href="https://realworldocaml.org/v1/en/html/lists-and-patterns.html">3</a>
      </td>
    </tr>
    <tr>
      <td>2</td>
      <td>
        <a href="http://www.cs.princeton.edu/courses/archive/fall17/cos326/ass/a2.php">Boxoffice Trivia</a>
      </td>
      <td>
        <a href="http://www.cs.princeton.edu/courses/archive/fall17/cos326/lec/04-poly-ho.pdf">Inductive programming with the Naturals; Poly-HO</a>,
        <a href="http://www.cs.princeton.edu/courses/archive/fall17/cos326/lec/05-more-data.pdf">More Data</a>
      </td>
      <td>
        <a href="http://www.cs.princeton.edu/courses/archive/fall17/cos326/notes/polymorphism.php">Polymorphism and Higher-order Programming</a>
      </td>
      <td>
        <a href="https://realworldocaml.org/v1/en/html/variants.html">6</a>
      </td>
    </tr>
    <tr>
      <td>3</td>
      <td>
        <a href="http://www.cs.princeton.edu/courses/archive/fall17/cos326/ass/a3.php">Map and Caml-Mathica</a>
      </td>
      <td>
        <a href="http://www.cs.princeton.edu/courses/archive/fall17/cos326/lec/06-data-design.pdf">Datatype Design</a>
        <a href="http://www.cs.princeton.edu/courses/archive/fall17/cos326/lec/06a-ocaml-interpreter.pdf">
          Implementing OCaml in OCaml
        </a>
        <a href="http://www.cs.princeton.edu/courses/archive/fall17/cos326/lec/06a-ocaml-interpreter.pdf">OCaml Interpreters, Part 2</a>
      </td>
      <td>
        <a href="http://www.cs.princeton.edu/courses/archive/fall17/cos326/notes/reasoning.php">Equational Reasoning</a>
      </td>
      <td>
        <a href="https://realworldocaml.org/v1/en/html/error-handling.html">7</a>
      </td>
    </tr>
    <tr>
      <td>4</td>
      <td>
        <a href="http://www.cs.princeton.edu/courses/archive/fall17/cos326/ass/a4.php">Interpreter and Program Correctness</a>
      </td>
      <td></td>
      <td>
        <a href="http://www.cs.princeton.edu/courses/archive/fall17/cos326/notes/reasoning-data.php">Equational Reasoning about Natural Numbers and Trees</a>
      </td>
      <td></td>
    </tr>
    <tr>
      <td>5</td>
      <td>
        <a href="http://www.cs.princeton.edu/courses/archive/fall17/cos326/ass/a5.php">Moogle</a>
      </td>
      <td></td>
      <td></td>
      <td>
        <a href="https://realworldocaml.org/v1/en/html/files-modules-and-programs.html">4</a>,
        <a href="https://realworldocaml.org/v1/en/html/imperative-programming-1.html">8</a>,
        <a href="https://realworldocaml.org/v1/en/html/functors.html">9</a>
      </td>
    </tr>
    <tr>
      <td>6</td>
      <td>
        <a href="http://www.cs.princeton.edu/courses/archive/fall17/cos326/ass/a6.php">Lazy Programming</a>
      </td>
      <td></td>
      <td>
        <a href="http://www.cs.princeton.edu/courses/archive/fall17/cos326/notes/parallel.php">Using threads and futures</a>,
        <a href="http://www.cs.princeton.edu/courses/archive/fall17/cos326/notes/parallel-complexity.php">Parallel Complexity Models</a>,
        <a href="http://www.cs.princeton.edu/courses/archive/fall17/cos326/notes/parallel-schedules.php">Parallel Scheduling</a>,
        <a href="http://www.cs.princeton.edu/courses/archive/fall17/cos326/notes/parallel-sequences.php">Parallel Sequences</a>
      </td>
      <td></td>
    </tr>
    <tr>
      <td>7</td>
      <td>
        <a href="http://www.cs.princeton.edu/courses/archive/fall17/cos326/ass/a7.php">Data-Parallel Programming</a>
      </td>
      <td></td>
      <td></td>
      <td></td>
    </tr>
  </tbody>
</table>

## More Links

- [Assignments](http://www.cs.princeton.edu/courses/archive/fall17/cos326/assignments.php)
- [Full Schedule (includes option reading)](http://www.cs.princeton.edu/courses/archive/fall17/cos326/schedule.php)
- [Notes](http://www.cs.princeton.edu/courses/archive/fall17/cos326/notes/index.php)
- [Textboox](https://realworldocaml.org/)

## Getting Started

### Installing OCaml

```bash
./scripts/install_deps.sh
```

or follow the Docker instructions below.

_If there's a build failure, try restarting your terminal._

For full install instructions see [here](http://www.cs.princeton.edu/courses/archive/fall17/cos326/resources.php).

### Clone the Repo (Don't Fork!!)

```bash
git clone git@github.com:cos-326/cos-326-fall-2017.git
```

### Create a Branch

Create a new branch off of `master` whose name is the same as your GitHub username. Then, push the branch to the remote (GitHub) repository. If you don't have permission to push to this repository, we'll add you to the [organization](https://github.com/cos-326/).

```bash
cd cos-326-fall-2017
git checkout -b laser
git push origin laser
```

## Running tests

To run tests for an assignment, you'll have to cd into the assignment directory, then run `make test`.

```bash
cd a1
make test
```

At first, all the tests for a homework will be skipped, and running them should show `SSSSSSS` in the terminal. As you go though the assignment, you can delete the `skip_if true "skip";` lines to un-skip the tests for the functions you have implemented. When all your tests are passing, you could see `.......` in the terminal.

If you get any unexpected errors, try running `opam switch 4.05.0` to make sure you're on the correct version of ocaml.

## Docker

There is a minimal `Dockerfile` and `docker-compose.yml` which creates an Ocaml/Opam development environment and
installs `utop`.

NOTE: this installs the latest maintained 'ocaml/opam' image, which as of now is version `4.04.2`.

Quickstart:

```bash
docker-compose build
```

This will download the base image and install `utop`.

```bash
./scripts/dtop
```

This will start `utop` interactively.

This script exists as a convenience and example (examine it to see how one might run a shell or the `ocaml` toplevel as
well).
